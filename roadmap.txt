Give type for all token
regroup tokens around pipes 
